import{r as i,A as y,f as b,j as e,C as M,I as w,E as N,D as f,F as x,G as U,L as q,h as S,H as l,J as L,K as m,M as B}from"./index-8955b117.js";const P="_form_naqrf_5",T="_loginInput_naqrf_8",A="_signUpContainer_naqrf_11",F="_signUp_naqrf_11",O="_keepSignedIn_naqrf_33",D="_forgotPassword_naqrf_48",a={form:P,loginInput:T,signUpContainer:A,signUp:F,keepSignedIn:O,forgotPassword:D},_={email:"",password:"",keepSignedIn:!1},v={email:!1,password:!1},C={email:"Email is required",password:"Password is required"},p={email:"",password:""},G=()=>{const[E,t]=i.useState(_),[I]=y({}),[d,c]=i.useState(v),[n,g]=i.useState(v),[h,u]=i.useState(p),j=b(),k=async s=>{s.preventDefault(),Object.values(E).some(r=>r==="")?l(d,!0,c):await I(E).unwrap().then(r=>{j(L(r)),t(_),S()}).catch(r=>{const{data:o}=r;switch(o==null?void 0:o.type){case"emailError":l(n,!1,g,{email:!0}),m(p,"",u,{email:o.message});break;case"passwordError":l(n,!1,g,{password:!0}),m(p,"",u,{password:o.message});break;default:l(n,!0,g),m(p,B.message,u);break}})};return e.jsx("main",{children:e.jsxs(M,{title:"Login",btnText:"Login",className:a.form,onSubmit:k,children:[e.jsx(w,{label:"Email",type:"text",placeholder:"Type your email",id:"email",svg:e.jsx(N,{}),className:a.loginInput,isClientError:d.email,isServerError:n.email,clientErrorMessage:C.email,serverErrorMessage:h.email,onBlurCapture:s=>f(s,c),onChange:s=>x(s,t)}),e.jsx(w,{type:"password",placeholder:"Type your password",label:"Password",id:"password",svg:e.jsx(U,{}),className:a.loginInput,isClientError:d.password,isServerError:n.password,clientErrorMessage:C.password,serverErrorMessage:h.password,onBlurCapture:s=>f(s,c),onChange:s=>x(s,t)}),e.jsxs("div",{className:a.signUpContainer,children:[e.jsxs("div",{className:a.keepSignedIn,children:[e.jsx("input",{type:"checkbox",name:"latestNews",id:"latestNews",onChange:s=>t(r=>({...r,keepSignedIn:s.target.checked}))}),e.jsx("label",{htmlFor:"latestNews",children:"Keep me signed in"})]}),e.jsxs("span",{children:["New user?"," ",e.jsx(q,{to:"/sign-up",className:a.signUp,onClick:S,children:"Sign up here."})," "]})]})]})})};export{G as default};
